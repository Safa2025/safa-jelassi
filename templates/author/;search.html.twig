{% extends 'base.html.twig' %}

{% block title %}Recherche d'auteurs{% endblock %}

{% block body %}
    <h1>Recherche d'auteurs par nombre de livres</h1>

    <form method="get" action="{{ path('author_search') }}" style="margin-bottom: 20px;">
        <label>Nombre minimum de livres :</label>
        <input type="number" name="min" value="{{ min }}" min="0">

        <label>Nombre maximum de livres :</label>
        <input type="number" name="max" value="{{ max }}" min="0">

        <button type="submit">Rechercher</button>
    </form>

    {% if authors is defined and authors|length > 0 %}
        <table border="1" cellpadding="6" cellspacing="0">
            <thead>
                <tr>
                    <th>Nom d'utilisateur</th>
                    <th>Email</th>
                    <th>Nombre de livres</th>
                </tr>
            </thead>
            <tbody>
                {% for author in authors %}
                    <tr>
                        <td>{{ author.username }}</td>
                        <td>{{ author.email }}</td>
                        <td>{{ author.nbBooks }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    {% else %}
        <p>Aucun auteur trouvé pour cet intervalle.</p>
    {% endif %}

    <a href="{{ path('author_list') }}">⬅ Retour à la liste</a>
{% endblock %}
